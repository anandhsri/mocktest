<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Planning Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #e0e0e0;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .tab:hover {
            background: #e8e8e8;
            color: #667eea;
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        .calculator-content {
            padding: 40px;
        }

        .calculator-section {
            display: none;
        }

        .calculator-section.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 0.95em;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .results {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .results h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            color: #666;
            font-weight: 500;
        }

        .result-value {
            color: #333;
            font-weight: 700;
            font-size: 1.1em;
        }

        .result-value.highlight {
            color: #667eea;
            font-size: 1.3em;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .info-box p {
            color: #1565c0;
            font-size: 0.9em;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                border-bottom: 1px solid #e0e0e0;
                border-right: none;
            }

            .tab.active {
                border-bottom: 1px solid #e0e0e0;
                border-left: 3px solid #667eea;
            }

            .calculator-content {
                padding: 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ’° Financial Planning Calculator</h1>
            <p>Plan your financial future with confidence</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showCalculator('retirement')">Retirement</button>
            <button class="tab" onclick="showCalculator('loan')">Loan</button>
            <button class="tab" onclick="showCalculator('investment')">Investment</button>
            <button class="tab" onclick="showCalculator('savings')">Savings Goal</button>
            <button class="tab" onclick="showCalculator('budget')">Budget</button>
            <button class="tab" onclick="showCalculator('debt')">Debt Payoff</button>
        </div>

        <div class="calculator-content">
            <!-- Retirement Calculator -->
            <div id="retirement" class="calculator-section active">
                <h2>Retirement Planning Calculator</h2>
                <div class="info-box">
                    <p>Calculate how much you need to save for retirement and when you can retire comfortably.</p>
                </div>
                <div class="form-group">
                    <label>Current Age</label>
                    <input type="number" id="ret-current-age" placeholder="e.g., 30" min="18" max="100">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Retirement Age</label>
                        <input type="number" id="ret-retirement-age" placeholder="e.g., 65" min="50" max="100">
                    </div>
                    <div class="form-group">
                        <label>Current Savings ($)</label>
                        <input type="number" id="ret-current-savings" placeholder="e.g., 50000" min="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Monthly Contribution ($)</label>
                        <input type="number" id="ret-monthly-contribution" placeholder="e.g., 1000" min="0">
                    </div>
                    <div class="form-group">
                        <label>Expected Annual Return (%)</label>
                        <input type="number" id="ret-annual-return" placeholder="e.g., 7" min="0" max="20" step="0.1">
                    </div>
                </div>
                <div class="form-group">
                    <label>Desired Retirement Income (Annual, $)</label>
                    <input type="number" id="ret-desired-income" placeholder="e.g., 50000" min="0">
                </div>
                <button class="btn" onclick="calculateRetirement()">Calculate Retirement Plan</button>
                <div id="retirement-results" class="results" style="display: none;"></div>
            </div>

            <!-- Loan Calculator -->
            <div id="loan" class="calculator-section">
                <h2>Loan Calculator</h2>
                <div class="info-box">
                    <p>Calculate monthly payments, total interest, and amortization schedule for any loan.</p>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Loan Amount ($)</label>
                        <input type="number" id="loan-amount" placeholder="e.g., 200000" min="0">
                    </div>
                    <div class="form-group">
                        <label>Annual Interest Rate (%)</label>
                        <input type="number" id="loan-rate" placeholder="e.g., 5.5" min="0" max="30" step="0.1">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Loan Term (Years)</label>
                        <input type="number" id="loan-term" placeholder="e.g., 30" min="1" max="50">
                    </div>
                    <div class="form-group">
                        <label>Loan Type</label>
                        <select id="loan-type">
                            <option value="fixed">Fixed Rate</option>
                            <option value="variable">Variable Rate</option>
                        </select>
                    </div>
                </div>
                <button class="btn" onclick="calculateLoan()">Calculate Loan</button>
                <div id="loan-results" class="results" style="display: none;"></div>
            </div>

            <!-- Investment Calculator -->
            <div id="investment" class="calculator-section">
                <h2>Investment Growth Calculator</h2>
                <div class="info-box">
                    <p>Project the future value of your investments based on compound interest.</p>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Initial Investment ($)</label>
                        <input type="number" id="inv-initial" placeholder="e.g., 10000" min="0">
                    </div>
                    <div class="form-group">
                        <label>Monthly Contribution ($)</label>
                        <input type="number" id="inv-monthly" placeholder="e.g., 500" min="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Annual Interest Rate (%)</label>
                        <input type="number" id="inv-rate" placeholder="e.g., 8" min="0" max="20" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>Investment Period (Years)</label>
                        <input type="number" id="inv-years" placeholder="e.g., 20" min="1" max="100">
                    </div>
                </div>
                <div class="form-group">
                    <label>Compounding Frequency</label>
                    <select id="inv-compound">
                        <option value="12">Monthly</option>
                        <option value="4">Quarterly</option>
                        <option value="2">Semi-Annually</option>
                        <option value="1">Annually</option>
                    </select>
                </div>
                <button class="btn" onclick="calculateInvestment()">Calculate Investment Growth</button>
                <div id="investment-results" class="results" style="display: none;"></div>
            </div>

            <!-- Savings Goal Calculator -->
            <div id="savings" class="calculator-section">
                <h2>Savings Goal Calculator</h2>
                <div class="info-box">
                    <p>Determine how much you need to save monthly to reach your financial goal.</p>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Goal Amount ($)</label>
                        <input type="number" id="sav-goal" placeholder="e.g., 50000" min="0">
                    </div>
                    <div class="form-group">
                        <label>Current Savings ($)</label>
                        <input type="number" id="sav-current" placeholder="e.g., 5000" min="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Time to Reach Goal (Years)</label>
                        <input type="number" id="sav-years" placeholder="e.g., 5" min="0.1" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>Annual Interest Rate (%)</label>
                        <input type="number" id="sav-rate" placeholder="e.g., 3" min="0" max="20" step="0.1">
                    </div>
                </div>
                <button class="btn" onclick="calculateSavings()">Calculate Required Savings</button>
                <div id="savings-results" class="results" style="display: none;"></div>
            </div>

            <!-- Budget Calculator -->
            <div id="budget" class="calculator-section">
                <h2>Budget Planner</h2>
                <div class="info-box">
                    <p>Track your income and expenses to create a balanced budget.</p>
                </div>
                <div class="form-group">
                    <label>Monthly Income ($)</label>
                    <input type="number" id="budget-income" placeholder="e.g., 5000" min="0">
                </div>
                <h3 style="margin-top: 30px; margin-bottom: 15px; color: #667eea;">Expenses</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Housing/Rent ($)</label>
                        <input type="number" id="budget-housing" placeholder="e.g., 1500" min="0">
                    </div>
                    <div class="form-group">
                        <label>Food/Groceries ($)</label>
                        <input type="number" id="budget-food" placeholder="e.g., 600" min="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Transportation ($)</label>
                        <input type="number" id="budget-transport" placeholder="e.g., 400" min="0">
                    </div>
                    <div class="form-group">
                        <label>Utilities ($)</label>
                        <input type="number" id="budget-utilities" placeholder="e.g., 200" min="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Entertainment ($)</label>
                        <input type="number" id="budget-entertainment" placeholder="e.g., 300" min="0">
                    </div>
                    <div class="form-group">
                        <label>Other Expenses ($)</label>
                        <input type="number" id="budget-other" placeholder="e.g., 500" min="0">
                    </div>
                </div>
                <button class="btn" onclick="calculateBudget()">Calculate Budget</button>
                <div id="budget-results" class="results" style="display: none;"></div>
            </div>

            <!-- Debt Payoff Calculator -->
            <div id="debt" class="calculator-section">
                <h2>Debt Payoff Calculator</h2>
                <div class="info-box">
                    <p>Calculate how long it will take to pay off your debt and how much interest you'll pay.</p>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Total Debt ($)</label>
                        <input type="number" id="debt-total" placeholder="e.g., 10000" min="0">
                    </div>
                    <div class="form-group">
                        <label>Annual Interest Rate (%)</label>
                        <input type="number" id="debt-rate" placeholder="e.g., 18" min="0" max="30" step="0.1">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Monthly Payment ($)</label>
                        <input type="number" id="debt-payment" placeholder="e.g., 300" min="0">
                    </div>
                    <div class="form-group">
                        <label>Payment Strategy</label>
                        <select id="debt-strategy">
                            <option value="minimum">Minimum Payment</option>
                            <option value="fixed">Fixed Amount</option>
                            <option value="snowball">Debt Snowball</option>
                        </select>
                    </div>
                </div>
                <button class="btn" onclick="calculateDebt()">Calculate Debt Payoff</button>
                <div id="debt-results" class="results" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        function showCalculator(type) {
            // Hide all sections
            document.querySelectorAll('.calculator-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(type).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(amount);
        }

        function calculateRetirement() {
            const currentAge = parseFloat(document.getElementById('ret-current-age').value);
            const retirementAge = parseFloat(document.getElementById('ret-retirement-age').value);
            const currentSavings = parseFloat(document.getElementById('ret-current-savings').value) || 0;
            const monthlyContribution = parseFloat(document.getElementById('ret-monthly-contribution').value) || 0;
            const annualReturn = parseFloat(document.getElementById('ret-annual-return').value) || 0;
            const desiredIncome = parseFloat(document.getElementById('ret-desired-income').value) || 0;

            if (!currentAge || !retirementAge || retirementAge <= currentAge) {
                alert('Please enter valid ages where retirement age is greater than current age.');
                return;
            }

            const yearsToRetirement = retirementAge - currentAge;
            const monthlyRate = annualReturn / 100 / 12;
            const months = yearsToRetirement * 12;

            // Future value of current savings
            const futureValueCurrent = currentSavings * Math.pow(1 + annualReturn / 100, yearsToRetirement);

            // Future value of monthly contributions
            let futureValueContributions = 0;
            if (monthlyRate > 0) {
                futureValueContributions = monthlyContribution * 
                    ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);
            } else {
                futureValueContributions = monthlyContribution * months;
            }

            const totalRetirementSavings = futureValueCurrent + futureValueContributions;

            // Calculate if desired income is sustainable (using 4% rule)
            const sustainableIncome = totalRetirementSavings * 0.04;
            const yearsInRetirement = 30; // Assuming 30 years in retirement
            const monthlyRetirementIncome = sustainableIncome / 12;

            const resultsDiv = document.getElementById('retirement-results');
            resultsDiv.innerHTML = `
                <h3>Retirement Plan Results</h3>
                <div class="result-item">
                    <span class="result-label">Years Until Retirement:</span>
                    <span class="result-value">${yearsToRetirement} years</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Future Value of Current Savings:</span>
                    <span class="result-value">${formatCurrency(futureValueCurrent)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Future Value of Contributions:</span>
                    <span class="result-value">${formatCurrency(futureValueContributions)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Retirement Savings:</span>
                    <span class="result-value highlight">${formatCurrency(totalRetirementSavings)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Sustainable Annual Income (4% Rule):</span>
                    <span class="result-value">${formatCurrency(sustainableIncome)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Monthly Retirement Income:</span>
                    <span class="result-value">${formatCurrency(monthlyRetirementIncome)}</span>
                </div>
                ${desiredIncome > 0 ? `
                <div class="result-item">
                    <span class="result-label">Desired Annual Income:</span>
                    <span class="result-value">${formatCurrency(desiredIncome)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Required Retirement Savings:</span>
                    <span class="result-value">${formatCurrency(desiredIncome / 0.04)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Shortfall/Excess:</span>
                    <span class="result-value ${totalRetirementSavings >= desiredIncome / 0.04 ? 'highlight' : ''}" style="color: ${totalRetirementSavings >= desiredIncome / 0.04 ? '#4caf50' : '#f44336'}">
                        ${formatCurrency(totalRetirementSavings - (desiredIncome / 0.04))}
                    </span>
                </div>
                ` : ''}
            `;
            resultsDiv.style.display = 'block';
        }

        function calculateLoan() {
            const principal = parseFloat(document.getElementById('loan-amount').value);
            const annualRate = parseFloat(document.getElementById('loan-rate').value);
            const years = parseFloat(document.getElementById('loan-term').value);

            if (!principal || !annualRate || !years) {
                alert('Please fill in all loan fields.');
                return;
            }

            const monthlyRate = annualRate / 100 / 12;
            const months = years * 12;

            // Calculate monthly payment using amortization formula
            let monthlyPayment = 0;
            if (monthlyRate > 0) {
                monthlyPayment = principal * 
                    (monthlyRate * Math.pow(1 + monthlyRate, months)) / 
                    (Math.pow(1 + monthlyRate, months) - 1);
            } else {
                monthlyPayment = principal / months;
            }

            const totalPayment = monthlyPayment * months;
            const totalInterest = totalPayment - principal;

            const resultsDiv = document.getElementById('loan-results');
            resultsDiv.innerHTML = `
                <h3>Loan Calculation Results</h3>
                <div class="result-item">
                    <span class="result-label">Monthly Payment:</span>
                    <span class="result-value highlight">${formatCurrency(monthlyPayment)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Amount Paid:</span>
                    <span class="result-value">${formatCurrency(totalPayment)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Interest Paid:</span>
                    <span class="result-value">${formatCurrency(totalInterest)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Principal Amount:</span>
                    <span class="result-value">${formatCurrency(principal)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Interest as % of Principal:</span>
                    <span class="result-value">${((totalInterest / principal) * 100).toFixed(2)}%</span>
                </div>
            `;
            resultsDiv.style.display = 'block';
        }

        function calculateInvestment() {
            const initial = parseFloat(document.getElementById('inv-initial').value) || 0;
            const monthly = parseFloat(document.getElementById('inv-monthly').value) || 0;
            const annualRate = parseFloat(document.getElementById('inv-rate').value);
            const years = parseFloat(document.getElementById('inv-years').value);
            const compoundFreq = parseInt(document.getElementById('inv-compound').value);

            if (!annualRate || !years) {
                alert('Please fill in interest rate and investment period.');
                return;
            }

            const periodsPerYear = compoundFreq;
            const totalPeriods = years * periodsPerYear;
            const ratePerPeriod = annualRate / 100 / periodsPerYear;
            const monthlyRate = annualRate / 100 / 12;

            // Future value of initial investment
            let futureValueInitial = 0;
            if (ratePerPeriod > 0) {
                futureValueInitial = initial * Math.pow(1 + ratePerPeriod, totalPeriods);
            } else {
                futureValueInitial = initial;
            }

            // Future value of monthly contributions (compounded monthly)
            let futureValueMonthly = 0;
            if (monthlyRate > 0) {
                const months = years * 12;
                futureValueMonthly = monthly * 
                    ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);
            } else {
                futureValueMonthly = monthly * years * 12;
            }

            const totalValue = futureValueInitial + futureValueMonthly;
            const totalContributed = initial + (monthly * years * 12);
            const totalGains = totalValue - totalContributed;

            const resultsDiv = document.getElementById('investment-results');
            resultsDiv.innerHTML = `
                <h3>Investment Growth Results</h3>
                <div class="result-item">
                    <span class="result-label">Initial Investment:</span>
                    <span class="result-value">${formatCurrency(initial)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Contributions:</span>
                    <span class="result-value">${formatCurrency(totalContributed)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Future Value of Initial:</span>
                    <span class="result-value">${formatCurrency(futureValueInitial)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Future Value of Monthly Contributions:</span>
                    <span class="result-value">${formatCurrency(futureValueMonthly)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Investment Value:</span>
                    <span class="result-value highlight">${formatCurrency(totalValue)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Gains:</span>
                    <span class="result-value" style="color: #4caf50">${formatCurrency(totalGains)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Return on Investment:</span>
                    <span class="result-value">${((totalGains / totalContributed) * 100).toFixed(2)}%</span>
                </div>
            `;
            resultsDiv.style.display = 'block';
        }

        function calculateSavings() {
            const goal = parseFloat(document.getElementById('sav-goal').value);
            const current = parseFloat(document.getElementById('sav-current').value) || 0;
            const years = parseFloat(document.getElementById('sav-years').value);
            const annualRate = parseFloat(document.getElementById('sav-rate').value) || 0;

            if (!goal || !years) {
                alert('Please fill in goal amount and time period.');
                return;
            }

            const monthlyRate = annualRate / 100 / 12;
            const months = years * 12;
            const futureValueCurrent = current * Math.pow(1 + annualRate / 100, years);
            const remainingNeeded = goal - futureValueCurrent;

            let monthlyPayment = 0;
            if (monthlyRate > 0 && remainingNeeded > 0) {
                monthlyPayment = remainingNeeded * 
                    (monthlyRate / (Math.pow(1 + monthlyRate, months) - 1));
            } else if (remainingNeeded > 0) {
                monthlyPayment = remainingNeeded / months;
            }

            const totalSaved = current + (monthlyPayment * months);
            const totalInterest = goal - totalSaved;

            const resultsDiv = document.getElementById('savings-results');
            resultsDiv.innerHTML = `
                <h3>Savings Goal Results</h3>
                <div class="result-item">
                    <span class="result-label">Goal Amount:</span>
                    <span class="result-value">${formatCurrency(goal)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Current Savings:</span>
                    <span class="result-value">${formatCurrency(current)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Future Value of Current Savings:</span>
                    <span class="result-value">${formatCurrency(futureValueCurrent)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Required Monthly Savings:</span>
                    <span class="result-value highlight">${formatCurrency(monthlyPayment)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Amount Saved:</span>
                    <span class="result-value">${formatCurrency(totalSaved)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Interest Earned:</span>
                    <span class="result-value" style="color: #4caf50">${formatCurrency(totalInterest)}</span>
                </div>
                ${monthlyPayment < 0 ? `
                <div class="result-item">
                    <span class="result-label" style="color: #4caf50">Status:</span>
                    <span class="result-value" style="color: #4caf50">You'll exceed your goal! No additional savings needed.</span>
                </div>
                ` : ''}
            `;
            resultsDiv.style.display = 'block';
        }

        function calculateBudget() {
            const income = parseFloat(document.getElementById('budget-income').value);
            const housing = parseFloat(document.getElementById('budget-housing').value) || 0;
            const food = parseFloat(document.getElementById('budget-food').value) || 0;
            const transport = parseFloat(document.getElementById('budget-transport').value) || 0;
            const utilities = parseFloat(document.getElementById('budget-utilities').value) || 0;
            const entertainment = parseFloat(document.getElementById('budget-entertainment').value) || 0;
            const other = parseFloat(document.getElementById('budget-other').value) || 0;

            if (!income) {
                alert('Please enter your monthly income.');
                return;
            }

            const totalExpenses = housing + food + transport + utilities + entertainment + other;
            const remaining = income - totalExpenses;
            const savingsRate = (remaining / income) * 100;

            // Recommended budget percentages (50/30/20 rule)
            const recommendedNeeds = income * 0.50;
            const recommendedWants = income * 0.30;
            const recommendedSavings = income * 0.20;

            const resultsDiv = document.getElementById('budget-results');
            resultsDiv.innerHTML = `
                <h3>Budget Analysis</h3>
                <div class="result-item">
                    <span class="result-label">Monthly Income:</span>
                    <span class="result-value">${formatCurrency(income)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Housing/Rent:</span>
                    <span class="result-value">${formatCurrency(housing)} (${((housing/income)*100).toFixed(1)}%)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Food/Groceries:</span>
                    <span class="result-value">${formatCurrency(food)} (${((food/income)*100).toFixed(1)}%)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Transportation:</span>
                    <span class="result-value">${formatCurrency(transport)} (${((transport/income)*100).toFixed(1)}%)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Utilities:</span>
                    <span class="result-value">${formatCurrency(utilities)} (${((utilities/income)*100).toFixed(1)}%)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Entertainment:</span>
                    <span class="result-value">${formatCurrency(entertainment)} (${((entertainment/income)*100).toFixed(1)}%)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Other Expenses:</span>
                    <span class="result-value">${formatCurrency(other)} (${((other/income)*100).toFixed(1)}%)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Expenses:</span>
                    <span class="result-value">${formatCurrency(totalExpenses)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Remaining/Savings:</span>
                    <span class="result-value highlight" style="color: ${remaining >= 0 ? '#4caf50' : '#f44336'}">
                        ${formatCurrency(remaining)} (${savingsRate.toFixed(1)}%)
                    </span>
                </div>
                <h3 style="margin-top: 20px; color: #667eea;">50/30/20 Rule Recommendations</h3>
                <div class="result-item">
                    <span class="result-label">Needs (50%):</span>
                    <span class="result-value">${formatCurrency(recommendedNeeds)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Wants (30%):</span>
                    <span class="result-value">${formatCurrency(recommendedWants)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Savings (20%):</span>
                    <span class="result-value">${formatCurrency(recommendedSavings)}</span>
                </div>
            `;
            resultsDiv.style.display = 'block';
        }

        function calculateDebt() {
            const totalDebt = parseFloat(document.getElementById('debt-total').value);
            const annualRate = parseFloat(document.getElementById('debt-rate').value);
            const monthlyPayment = parseFloat(document.getElementById('debt-payment').value);

            if (!totalDebt || !annualRate || !monthlyPayment) {
                alert('Please fill in all debt fields.');
                return;
            }

            const monthlyRate = annualRate / 100 / 12;
            let balance = totalDebt;
            let months = 0;
            let totalInterest = 0;

            // Calculate months to pay off
            if (monthlyRate > 0) {
                if (monthlyPayment <= balance * monthlyRate) {
                    alert('Monthly payment is too low. You will never pay off this debt with this payment amount.');
                    return;
                }
                months = -Math.log(1 - (balance * monthlyRate) / monthlyPayment) / Math.log(1 + monthlyRate);
                months = Math.ceil(months);
            } else {
                months = Math.ceil(balance / monthlyPayment);
            }

            // Calculate total interest
            let remainingBalance = totalDebt;
            for (let i = 0; i < months; i++) {
                const interestPayment = remainingBalance * monthlyRate;
                const principalPayment = monthlyPayment - interestPayment;
                totalInterest += interestPayment;
                remainingBalance -= principalPayment;
                if (remainingBalance <= 0) break;
            }

            const totalPaid = totalDebt + totalInterest;
            const years = months / 12;

            const resultsDiv = document.getElementById('debt-results');
            resultsDiv.innerHTML = `
                <h3>Debt Payoff Results</h3>
                <div class="result-item">
                    <span class="result-label">Total Debt:</span>
                    <span class="result-value">${formatCurrency(totalDebt)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Monthly Payment:</span>
                    <span class="result-value">${formatCurrency(monthlyPayment)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Time to Pay Off:</span>
                    <span class="result-value highlight">${months} months (${years.toFixed(1)} years)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Interest Paid:</span>
                    <span class="result-value">${formatCurrency(totalInterest)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Amount Paid:</span>
                    <span class="result-value">${formatCurrency(totalPaid)}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Interest as % of Debt:</span>
                    <span class="result-value">${((totalInterest / totalDebt) * 100).toFixed(2)}%</span>
                </div>
            `;
            resultsDiv.style.display = 'block';
        }
    </script>
</body>
</html>
